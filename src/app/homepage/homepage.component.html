<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Il tuo E-commerce</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>


  <div class="container">


    <div class="container text-center"><h1>NOVITA'</h1></div>
    <mat-progress-spinner class="uSpinner" *ngIf="this.key.loading" mode="indeterminate" color="primary"></mat-progress-spinner>

    <div class="card-list" id="offerte">
      <button type="button" class="btnArrow" (click)="previusData('novita')">
        <img class="arrow left" src="assets/images/left-arrow.png">
      </button>
      <div class="container-fluid collection ml-5">
        <div class="product" *ngFor="let item of productService.newProducts.slice(indexNovita, indexNovita + 3)">
          <div (click)="productService.prendiDatiProdotto(item.productId)">
          <a class="product__image"><img class="preview" [src]="item.image" alt=""></a>
            <div class="product__name" >
              <p>
                <a>{{item.productName}}</a>
                <span style="color: #0000ff"> NEW</span>

              </p>
            </div>
            <div class="product__price">
              <p>Prezzo: {{item.price}}€
              <p *ngIf="item.discount>0">Sconto: {{item.discount}}%
              <div *ngIf="item.reviewsNumber > 0">
                <h4>Numero recensioni: {{item.reviewsNumber}}</h4>
                <h4>Media recensioni: {{item.averageReview}}</h4>
              </div>
              <div *ngIf="item.reviewsNumber == 0">
                <h4>Non ci sono ancora recensioni</h4>
              </div>
            </div>
          </div>

        </div>
      </div>
      <button type="button" class="btnArrow" (click)="nextData('novita')">
        <img class="arrow right" src="assets/images/right-arrow.png">
      </button>
    </div>
    <div class="container text-center"><h1>OFFERTE</h1></div>
    <div class="card-list" id="novità">
      <button type="button" class="btnArrow" (click)="previusData('offerte')"><img class="arrow left" src="assets/images/left-arrow.png"></button>
      <div class="container-fluid collection ml-5">
        <!-- Imagine a loop produced this... -->
        <div class="product" *ngFor="let item of productService.offerProducts.slice(indexOfferte, indexOfferte+ 3)">
          <div (click)="productService.prendiDatiProdotto(item.productId)">

          <a class="product__image"><img class="preview" [src]="item.image" alt=""></a>
          <div class="product__name" >
            <p>
              <a>{{item.productName}}</a>
            </p>
          </div>
          <div class="product__price">
            <p>Prezzo: {{item.price}}€
            <p *ngIf="item.discount > 0">
              Sconto: {{ item.discount }}%
              <span style="color: red" *ngIf="item.discount > 5"> HOT</span>
            </p>
            <div *ngIf="item.reviewsNumber > 0">
              <h4>Numero recensioni: {{item.reviewsNumber}}</h4>
              <h4>Media recensioni: {{item.averageReview}}</h4>
            </div>
            <div *ngIf="item.reviewsNumber == 0">
              <h4>Non ci sono ancora recensioni</h4>
            </div>
          </div>
          </div>
        </div>
      </div>
      <button type="button" class="btnArrow" (click)="nextData('offerte')"><img class="arrow right" src="assets/images/right-arrow.png"></button>
    </div>
  </div>
</body>
<footer>
  <app-footer></app-footer>
</footer>
</html>
